<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ZENAPEX | Y2K BRUTAL SHOP</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
	<style>
		* { margin: 0; padding: 0; box-sizing: border-box; }
		
		:root {
			--black: #000000;
			--white: #FFFFFF;
			--blood: #800020;
			--grey: #333333;
		}
		
		body {
			background-color: var(--black);
			color: var(--white);
			line-height: 1.6;
			overflow-x: hidden;
			font-family: 'Rajdhani', sans-serif;
			font-weight: 600;
		}
		
		.bold-font {
			font-family: 'Orbitron', sans-serif;
			font-weight: 900;
			letter-spacing: 1px;
		}
		
		.menu-font {
			font-family: 'Orbitron', sans-serif;
			font-weight: 700;
			letter-spacing: 1px;
		}
		
		header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 15px 20px;
			border-bottom: 3px solid var(--blood);
			background-color: var(--black);
			position: sticky;
			top: 0;
			z-index: 100;
		}
		
		.logo-text {
			font-family: 'Orbitron', sans-serif;
			font-weight: 900;
			letter-spacing: 3px;
			color: var(--white);
			font-size: 36px;
			text-transform: uppercase;
		}
		
		.header-icons {
			display: flex;
			gap: 25px;
		}
		
		.icon-btn {
			background: none;
			border: none;
			color: var(--white);
			font-size: 24px;
			cursor: pointer;
			position: relative;
		}
		
		.cart-count {
			position: absolute;
			top: -8px;
			right: -8px;
			background: var(--blood);
			color: white;
			font-size: 12px;
			width: 20px;
			height: 20px;
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			font-family: 'Orbitron', sans-serif;
			font-weight: 700;
		}
		
		.burger-btn {
			font-size: 28px;
			background: none;
			border: none;
			color: var(--white);
			cursor: pointer;
		}
		
		.burger-menu {
			position: fixed;
			top: 0;
			left: -100%;
			width: 280px;
			height: 100vh;
			background-color: var(--black);
			border-right: 3px solid var(--blood);
			padding: 30px 20px;
			z-index: 1000;
			transition: left 0.4s;
			overflow-y: auto;
		}
		
		.burger-menu.active {
			left: 0;
		}
		
		.burger-menu h2 {
			color: var(--white);
			margin-bottom: 30px;
			font-size: 28px;
			text-align: center;
			font-family: 'Orbitron', sans-serif;
			font-weight: 900;
			letter-spacing: 2px;
		}
		
		.menu-items {
			list-style: none;
		}
		
		.menu-items li {
			margin-bottom: 15px;
		}
		
		.menu-items li a {
			color: var(--white);
			text-decoration: none;
			display: block;
			padding: 15px;
			background: var(--grey);
			border: 2px solid transparent;
			transition: all 0.3s;
			font-family: 'Orbitron', sans-serif;
			font-weight: 700;
			font-size: 18px;
			text-align: center;
			text-transform: uppercase;
		}
		
		.menu-items li a:hover {
			border-color: var(--blood);
			transform: translateX(5px);
		}
		
		.close-menu {
			position: absolute;
			top: 20px;
			right: 20px;
			background: none;
			border: 2px solid var(--blood);
			color: var(--white);
			font-size: 24px;
			cursor: pointer;
			width: 40px;
			height: 40px;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		
		.products-grid {
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			gap: 20px;
			padding: 30px 20px;
			max-width: 1200px;
			margin: 0 auto;
		}
		
		.product-card {
			background: var(--black);
			padding: 15px;
			position: relative;
			transition: all 0.3s;
			cursor: pointer;
			border: 2px solid transparent;
		}
		
		.product-card:hover {
			border-color: var(--blood);
		}
		
		.product-img {
			width: 100%;
			height: 180px;
			background-color: #111;
			display: flex;
			align-items: center;
			justify-content: center;
			margin-bottom: 10px;
			overflow: hidden;
		}
		
		.product-img img {
			width: 100%;
			height: 100%;
			object-fit: cover;
		}
		
		.product-info {
			text-align: center;
		}
		
		.product-name {
			font-size: 16px;
			margin-bottom: 8px;
			color: var(--white);
			font-family: 'Orbitron', sans-serif;
			font-weight: 700;
			text-transform: uppercase;
		}
		
		.product-price {
			font-size: 22px;
			color: var(--blood);
			font-family: 'Orbitron', sans-serif;
			font-weight: 900;
		}
		
		.product-modal {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.95);
			z-index: 1001;
			align-items: center;
			justify-content: center;
			padding: 20px;
		}
		
		.product-modal.active {
			display: flex;
		}
		
		.modal-content {
			background: var(--black);
			border: 3px solid var(--blood);
			max-width: 500px;
			width: 100%;
			padding: 25px;
			position: relative;
		}
		
		.close-modal {
			position: absolute;
			top: 15px;
			right: 15px;
			background: var(--black);
			border: 2px solid var(--blood);
			color: var(--white);
			font-size: 22px;
			cursor: pointer;
			width: 35px;
			height: 35px;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		
		.modal-img {
			width: 100%;
			height: 200px;
			background-color: #111;
			margin-bottom: 20px;
			display: flex;
			align-items: center;
			justify-content: center;
			overflow: hidden;
			position: relative;
		}
		
		.modal-img img {
			width: 100%;
			height: 100%;
			object-fit: contain;
			background-color: #000;
		}
		
		.slider-btn {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
			background: rgba(0, 0, 0, 0.7);
			color: white;
			border: 2px solid var(--blood);
			width: 40px;
			height: 40px;
			display: flex;
			align-items: center;
			justify-content: center;
			cursor: pointer;
			z-index: 10;
			font-size: 20px;
		}
		
		.slider-btn.prev {
			left: 10px;
		}
		
		.slider-btn.next {
			right: 10px;
		}
		
		.slider-btn:hover {
			background: rgba(128, 0, 32, 0.8);
		}
		
		.slider-dots {
			position: absolute;
			bottom: 10px;
			left: 0;
			right: 0;
			display: flex;
			justify-content: center;
			gap: 8px;
			z-index: 10;
		}
		
		.dot {
			width: 10px;
			height: 10px;
			border-radius: 50%;
			background: rgba(255, 255, 255, 0.5);
			cursor: pointer;
			transition: all 0.3s;
		}
		
		.dot.active {
			background: var(--blood);
			transform: scale(1.2);
		}
		
		.modal-details h2 {
			color: var(--white);
			margin-bottom: 15px;
			font-size: 24px;
			font-family: 'Orbitron', sans-serif;
			font-weight: 900;
		}
		
		.modal-price {
			color: var(--blood);
			font-size: 28px;
			margin-bottom: 20px;
			font-family: 'Orbitron', sans-serif;
			font-weight: 900;
		}
		
		.option-group {
			margin-bottom: 20px;
		}
		
		.option-group h3 {
			color: var(--white);
			margin-bottom: 10px;
			font-size: 18px;
			font-family: 'Orbitron', sans-serif;
			font-weight: 700;
		}
		
		.options {
			display: flex;
			gap: 8px;
			flex-wrap: wrap;
		}
		
		.option-btn {
			padding: 8px 15px;
			background: #111;
			color: var(--white);
			border: 2px solid #444;
			cursor: pointer;
			transition: all 0.3s;
			font-family: 'Orbitron', sans-serif;
			font-weight: 500;
		}
		
		.option-btn.active {
			background: var(--blood);
			border-color: var(--blood);
			color: white;
		}
		
		.add-to-cart {
			width: 100%;
			padding: 16px;
			background: var(--blood);
			color: var(--white);
			border: none;
			font-size: 18px;
			cursor: pointer;
			margin-top: 20px;
			font-family: 'Orbitron', sans-serif;
			font-weight: 700;
			text-transform: uppercase;
		}
		
		.add-to-cart:hover {
			background: #600018;
		}
		
		.cart-modal {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.97);
			z-index: 1001;
			align-items: center;
			justify-content: center;
			padding: 20px;
		}
		
		.cart-modal.active {
			display: flex;
		}
		
		.cart-content {
			background: var(--black);
			border: 3px solid var(--blood);
			max-width: 600px;
			width: 100%;
			max-height: 80vh;
			overflow-y: auto;
			padding: 25px;
			position: relative;
		}
		
		.cart-close {
			position: absolute;
			top: 15px;
			right: 15px;
			background: var(--black);
			border: 2px solid var(--blood);
			color: var(--white);
			font-size: 22px;
			cursor: pointer;
			width: 35px;
			height: 35px;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		
		.cart-content h2 {
			color: var(--white);
			margin-bottom: 20px;
			font-size: 30px;
			text-align: center;
			font-family: 'Orbitron', sans-serif;
			font-weight: 900;
		}
		
		.cart-items {
			margin-bottom: 25px;
		}
		
		.cart-item {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 15px 0;
			border-bottom: 2px solid #333;
		}
		
		.cart-item-info h3 {
			color: var(--white);
			margin-bottom: 5px;
			font-size: 16px;
			font-family: 'Orbitron', sans-serif;
			font-weight: 700;
		}
		
		.cart-item-details {
			color: #999;
			font-size: 14px;
			font-family: 'Orbitron', sans-serif;
			font-weight: 500;
		}
		
		.cart-item-price {
			color: var(--blood);
			font-size: 20px;
			font-family: 'Orbitron', sans-serif;
			font-weight: 900;
		}
		
		.cart-total {
			text-align: right;
			margin-bottom: 20px;
			padding-top: 15px;
			border-top: 2px solid var(--blood);
		}
		
		.cart-total h3 {
			color: var(--white);
			font-size: 22px;
			margin-bottom: 10px;
			font-family: 'Orbitron', sans-serif;
			font-weight: 700;
		}
		
		.total-price {
			color: var(--blood);
			font-size: 32px;
			font-family: 'Orbitron', sans-serif;
			font-weight: 900;
		}
		
		.order-btn {
			width: 100%;
			padding: 18px;
			background: var(--white);
			color: var(--black);
			border: none;
			font-size: 20px;
			cursor: pointer;
			text-transform: uppercase;
			font-family: 'Orbitron', sans-serif;
			font-weight: 900;
		}
		
		.order-btn:hover {
			background: #ddd;
		}
		
		.empty-cart {
			text-align: center;
			padding: 40px 20px;
			color: #666;
			font-family: 'Orbitron', sans-serif;
			font-size: 18px;
		}
		
		.search-modal {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.97);
			z-index: 1001;
			align-items: center;
			justify-content: center;
			padding: 20px;
		}
		
		.search-modal.active {
			display: flex;
		}
		
		.search-content {
			background: var(--black);
			border: 3px solid var(--blood);
			max-width: 600px;
			width: 100%;
			padding: 25px;
			position: relative;
		}
		
		.search-box {
			display: flex;
			margin-bottom: 20px;
		}
		
		.search-box input {
			flex: 1;
			padding: 15px;
			background: #111;
			border: 2px solid var(--blood);
			color: var(--white);
			font-size: 16px;
			font-family: 'Orbitron', sans-serif;
		}
		
		.search-box button {
			padding: 0 25px;
			background: var(--blood);
			color: var(--white);
			border: none;
			cursor: pointer;
			font-size: 18px;
		}
		
		.whatsapp-fixed {
			position: fixed;
			bottom: 30px;
			right: 30px;
			z-index: 999;
			display: none;
		}
		
		.whatsapp-btn {
			background: #25D366;
			color: white;
			border: none;
			border-radius: 50px;
			padding: 15px 25px;
			font-size: 18px;
			cursor: pointer;
			display: flex;
			align-items: center;
			gap: 10px;
			box-shadow: 0 5px 15px rgba(37, 211, 102, 0.4);
			font-family: 'Orbitron', sans-serif;
			font-weight: 700;
		}
		
		@media (max-width: 768px) {
			.products-grid {
				grid-template-columns: repeat(2, 1fr);
				gap: 15px;
				padding: 20px 15px;
			}
			
			.logo-text {
				font-size: 24px;
				letter-spacing: 2px;
			}
			
			.header-icons {
				gap: 15px;
			}
			
			.cart-content, .modal-content, .search-content {
				padding: 20px;
			}
			
			.whatsapp-fixed {
				bottom: 20px;
				right: 20px;
			}
		}
		
		@media (max-width: 480px) {
			.products-grid {
				grid-template-columns: repeat(2, 1fr);
				gap: 10px;
				padding: 15px 10px;
			}
			
			.product-img {
				height: 140px;
			}
			
			.modal-img {
				height: 180px;
			}
			
			.logo-text {
				font-size: 20px;
				letter-spacing: 1px;
			}
			
			.burger-menu {
				width: 250px;
			}
			
			header {
				padding: 10px 15px;
			}
			
			.whatsapp-btn {
				padding: 12px 20px;
				font-size: 16px;
			}
			
			.product-name {
				font-size: 14px;
			}
			
			.product-price {
				font-size: 18px;
			}
		}
	</style>
</head>
<body>
	<header>
		<button class="burger-btn" id="burgerBtn">
			<i class="fas fa-bars"></i>
		</button>
		
		<div class="logo">
			<div class="logo-text">ZENAPEX</div>
		</div>
		
		<div class="header-icons">
			<button class="icon-btn" id="searchBtn">
				<i class="fas fa-search"></i>
			</button>
			<button class="icon-btn" id="cartBtn">
				<i class="fas fa-shopping-bag"></i>
				<span class="cart-count" id="cartCount">0</span>
			</button>
		</div>
	</header>

	<div class="burger-menu" id="burgerMenu">
		<button class="close-menu" id="closeMenu">
			<i class="fas fa-times"></i>
		</button>
		
		<h2 class="bold-font">МЕНЮ</h2>
		
		<ul class="menu-items">
			<li><a href="#" onclick="filterByCategory('tops')">ВЕРХ</a></li>
			<li><a href="#" onclick="filterByCategory('bottoms')">НИЗ</a></li>
			<li><a href="#" onclick="filterByCategory('accessories')">АКСЕССУАРЫ</a></li>
			<li><a href="#" onclick="showAllProducts()">ВСЕ ТОВАРЫ</a></li>
		</ul>
	</div>

	<div class="products-grid" id="productsGrid"></div>

	<div class="product-modal" id="productModal">
		<div class="modal-content">
			<button class="close-modal" id="closeProductModal">
				<i class="fas fa-times"></i>
			</button>
			
			<div class="modal-img" id="modalImgContainer"></div>
			
			<div class="modal-details">
				<h2 id="modalTitle" class="bold-font">Название товара</h2>
				<div class="modal-price" id="modalPrice">0 ₸</div>
				
				<div class="option-group">
					<h3 class="menu-font">РАЗМЕР</h3>
					<div class="options" id="sizeOptions"></div>
				</div>
				
				<div class="option-group">
					<h3 class="menu-font">ЦВЕТ</h3>
					<div class="options" id="colorOptions"></div>
				</div>
				
				<button class="add-to-cart bold-font" id="addToCartBtn">В КОРЗИНУ</button>
			</div>
		</div>
	</div>

	<div class="cart-modal" id="cartModal">
		<div class="cart-content">
			<button class="cart-close" id="closeCartModal">
				<i class="fas fa-times"></i>
			</button>
			
			<h2 class="bold-font">КОРЗИНА</h2>
			
			<div class="cart-items" id="cartItemsContainer"></div>
			
			<div class="cart-total">
				<h3 class="bold-font">ИТОГО:</h3>
				<div class="total-price bold-font" id="cartTotal">0 ₸</div>
			</div>
			
			<button class="order-btn bold-font" id="orderBtn">ЗАКАЗАТЬ В WHATSAPP</button>
		</div>
	</div>

	<div class="whatsapp-fixed" id="whatsappFixed">
		<button class="whatsapp-btn" id="whatsappOrderBtn">
			<i class="fab fa-whatsapp"></i> Заказать
		</button>
	</div>

	<div class="search-modal" id="searchModal">
		<div class="search-content">
			<button class="close-modal" id="closeSearchModal">
				<i class="fas fa-times"></i>
			</button>
			
			<h2 class="bold-font" style="color: var(--white); margin-bottom: 20px; text-align: center;">ПОИСК</h2>
			
			<div class="search-box">
				<input type="text" id="searchInput" placeholder="Название товара..." class="menu-font">
				<button id="searchSubmit" class="bold-font">
					<i class="fas fa-search"></i>
				</button>
			</div>
			
			<div id="searchResults">
				<p style="color: #666; text-align: center; font-family: 'Orbitron', sans-serif;">Введите запрос</p>
			</div>
		</div>
	</div>

	<script>
		const products = [
			{ 
				id: 1, 
				name: "ЖЁЛТЫЙ СВИТЕР", 
				price: 10000, 
				category: "tops", 
				images: ["https://i.ibb.co.com/84QSw8bX/7-E80-C45-F-E1-B7-4-C9-F-B26-A-F98-C177-A3718.jpg"], 
				sizes: ["M"], 
				colors: ["Жёлтый"] 
			},
			{ 
				id: 2, 
				name: "ТЕМНО-СИНЯЯ ДВОЙКА", 
				price: 6000, 
				category: "tops", 
				images: ["https://i.ibb.co.com/HJNJpJG/68-D90-B20-C629-48-C9-A089-74-DE87-DCE9-D9.jpg"], 
				sizes: ["M"], 
				colors: ["Темно-синий"] 
			},
			{ 
				id: 3, 
				name: "ШИРОКИЕ БРЮКИ В АМЕРИКАНСКОМ СТИЛЕ", 
				price: 9000, 
				category: "bottoms", 
				images: ["https://i.ibb.co.com/d0JZ7cfW/copy-6897-A9-DF-BB00-447-D-986-F-0-FDBEC04766-C.jpg"], 
				sizes: ["M"], 
				colors: ["Стандартный"] 
			},
			{ 
				id: 4, 
				name: "УНИКАЛЬНАЯ ВЕРХНЯЯ ОДЕЖДА", 
				price: 7500, 
				category: "tops", 
				images: ["https://i.ibb.co.com/dxTLnHS/copy-B237-FC13-D399-435-B-B351-86789-C648031.jpg"], 
				sizes: ["S"], 
				colors: ["Белый/Красный"] 
			},
			{ 
				id: 5, 
				name: "АМЕРИКАНСКИЕ РЕТРО-ДЖАЗОВЫЕ БРЮКИ", 
				price: 11000, 
				category: "bottoms", 
				images: ["https://i.ibb.co.com/bMZdtQ1B/copy-927-C7479-8595-4-C4-D-B02-E-644182-C7-B719.jpg"], 
				sizes: ["M"], 
				colors: ["Стандартный"] 
			},
			{ 
				id: 6, 
				name: "ДВОЙКА BADBLOOD", 
				price: 28990, 
				category: "tops", 
				images: ["https://i.ibb.co.com/Pz3kJ7Lx/IMG-3413.jpg", "https://i.ibb.co.com/G6b1DCB/IMG-3414.jpg"], 
				sizes: ["M"], 
				colors: ["Стандартный"] 
			},
			{ 
				id: 7, 
				name: "ЖЕНСКАЯ ОСЕННЯЯ ВЯЗАНАЯ ДВОЙКА", 
				price: 7000, 
				category: "tops", 
				images: ["https://i.ibb.co.com/4nC54C3s/IMG-3415.jpg"], 
				sizes: ["S"], 
				colors: ["Стандартный"] 
			},
			{ 
				id: 8, 
				name: "ПЗС-КАМЕРА С ПОВОРОТНЫМ ЭКРАНОМ", 
				price: 13000, 
				category: "accessories", 
				images: ["https://i.ibb.co.com/0pqQHvQG/copy-BE630-F3-A-B3-AA-49-F1-8-B0-A-1-D7400-D8-FB62.jpg"], 
				sizes: ["ONE SIZE"], 
				colors: ["Стандартный"] 
			}
		];

		let cart = [];
		let currentProduct = null;
		let selectedSize = null;
		let selectedColor = null;
		let currentImageIndex = 0;
		let productImages = [];

		const burgerBtn = document.getElementById('burgerBtn');
		const burgerMenu = document.getElementById('burgerMenu');
		const closeMenu = document.getElementById('closeMenu');
		const cartBtn = document.getElementById('cartBtn');
		const cartModal = document.getElementById('cartModal');
		const closeCartModal = document.getElementById('closeCartModal');
		const cartCount = document.getElementById('cartCount');
		const productsGrid = document.getElementById('productsGrid');
		const productModal = document.getElementById('productModal');
		const closeProductModal = document.getElementById('closeProductModal');
		const searchBtn = document.getElementById('searchBtn');
		const searchModal = document.getElementById('searchModal');
		const closeSearchModal = document.getElementById('closeSearchModal');
		const searchInput = document.getElementById('searchInput');
		const searchSubmit = document.getElementById('searchSubmit');
		const searchResults = document.getElementById('searchResults');
		const orderBtn = document.getElementById('orderBtn');
		const whatsappFixed = document.getElementById('whatsappFixed');
		const whatsappOrderBtn = document.getElementById('whatsappOrderBtn');
		const modalImgContainer = document.getElementById('modalImgContainer');

		function renderProducts(productsToShow = products) {
			productsGrid.innerHTML = '';
			
			productsToShow.forEach(product => {
				const productCard = document.createElement('div');
				productCard.className = 'product-card';
				productCard.dataset.id = product.id;
				
				const imageUrl = Array.isArray(product.images) ? product.images[0] : product.image;
				
				productCard.innerHTML = `
					<div class="product-img">
						<img src="${imageUrl}" alt="${product.name}">
					</div>
					<div class="product-info">
						<div class="product-name">${product.name}</div>
						<div class="product-price">${product.price.toLocaleString()} ₸</div>
					</div>
				`;
				
				productCard.addEventListener('click', () => openProductModal(product.id));
				productsGrid.appendChild(productCard);
			});
		}

		function filterByCategory(category) {
			const filteredProducts = products.filter(product => product.category === category);
			renderProducts(filteredProducts);
			burgerMenu.classList.remove('active');
		}

		function showAllProducts() {
			renderProducts(products);
			burgerMenu.classList.remove('active');
		}

		function openProductModal(productId) {
			currentProduct = products.find(p => p.id === productId);
			
			if (!currentProduct) return;
			
			selectedSize = null;
			selectedColor = null;
			currentImageIndex = 0;
			productImages = currentProduct.images || [currentProduct.image];
			
			document.getElementById('modalTitle').textContent = currentProduct.name;
			document.getElementById('modalPrice').textContent = `${currentProduct.price.toLocaleString()} ₸`;
			
			modalImgContainer.innerHTML = '';
			
			// Создаем контейнер для слайдера
			const sliderContainer = document.createElement('div');
			sliderContainer.style.width = '100%';
			sliderContainer.style.height = '100%';
			sliderContainer.style.position = 'relative';
			
			// Добавляем изображения
			productImages.forEach((imgUrl, index) => {
				const img = document.createElement('img');
				img.src = imgUrl;
				img.alt = `${currentProduct.name} - фото ${index + 1}`;
				img.style.width = '100%';
				img.style.height = '100%';
				img.style.objectFit = 'contain';
				img.style.display = index === 0 ? 'block' : 'none';
				sliderContainer.appendChild(img);
			});
			
			// Добавляем кнопки навигации если больше 1 фото
			if (productImages.length > 1) {
				const prevBtn = document.createElement('button');
				prevBtn.className = 'slider-btn prev';
				prevBtn.innerHTML = '<i class="fas fa-chevron-left"></i>';
				prevBtn.addEventListener('click', (e) => {
					e.stopPropagation();
					changeImage(-1);
				});
				
				const nextBtn = document.createElement('button');
				nextBtn.className = 'slider-btn next';
				nextBtn.innerHTML = '<i class="fas fa-chevron-right"></i>';
				nextBtn.addEventListener('click', (e) => {
					e.stopPropagation();
					changeImage(1);
				});
				
				sliderContainer.appendChild(prevBtn);
				sliderContainer.appendChild(nextBtn);
				
				// Добавляем точки индикаторы
				const dotsContainer = document.createElement('div');
				dotsContainer.className = 'slider-dots';
				
				productImages.forEach((_, index) => {
					const dot = document.createElement('div');
					dot.className = `dot ${index === 0 ? 'active' : ''}`;
					dot.addEventListener('click', () => goToImage(index));
					dotsContainer.appendChild(dot);
				});
				
				sliderContainer.appendChild(dotsContainer);
			}
			
			modalImgContainer.appendChild(sliderContainer);
			
			function changeImage(direction) {
				const images = sliderContainer.querySelectorAll('img');
				const dots = sliderContainer.querySelectorAll('.dot');
				
				images[currentImageIndex].style.display = 'none';
				if (dots.length > 0) dots[currentImageIndex].classList.remove('active');
				
				currentImageIndex = (currentImageIndex + direction + images.length) % images.length;
				
				images[currentImageIndex].style.display = 'block';
				if (dots.length > 0) dots[currentImageIndex].classList.add('active');
			}
			
			function goToImage(index) {
				const images = sliderContainer.querySelectorAll('img');
				const dots = sliderContainer.querySelectorAll('.dot');
				
				images[currentImageIndex].style.display = 'none';
				if (dots.length > 0) dots[currentImageIndex].classList.remove('active');
				
				currentImageIndex = index;
				
				images[currentImageIndex].style.display = 'block';
				if (dots.length > 0) dots[currentImageIndex].classList.add('active');
			}
			
			const sizeOptions = document.getElementById('sizeOptions');
			sizeOptions.innerHTML = '';
			
			currentProduct.sizes.forEach(size => {
				const btn = document.createElement('button');
				btn.className = 'option-btn';
				btn.textContent = size;
				btn.dataset.value = size;
				
				btn.addEventListener('click', () => {
					document.querySelectorAll('#sizeOptions .option-btn').forEach(b => b.classList.remove('active'));
					btn.classList.add('active');
					selectedSize = size;
				});
				
				sizeOptions.appendChild(btn);
				
				if (currentProduct.sizes.length === 1) {
					btn.classList.add('active');
					selectedSize = size;
				}
			});
			
			const colorOptions = document.getElementById('colorOptions');
			colorOptions.innerHTML = '';
			
			currentProduct.colors.forEach(color => {
				const btn = document.createElement('button');
				btn.className = 'option-btn';
				btn.textContent = color;
				btn.dataset.value = color;
				
				btn.addEventListener('click', () => {
					document.querySelectorAll('#colorOptions .option-btn').forEach(b => b.classList.remove('active'));
					btn.classList.add('active');
					selectedColor = color;
				});
				
				colorOptions.appendChild(btn);
				
				if (currentProduct.colors.length === 1) {
					btn.classList.add('active');
					selectedColor = color;
				}
			});
			
			productModal.classList.add('active');
		}

		document.getElementById('addToCartBtn').addEventListener('click', () => {
			if (!currentProduct) return;
			
			if (!selectedSize || !selectedColor) {
				alert('Выберите размер и цвет!');
				return;
			}
			
			const cartItem = {
				id: Date.now(),
				productId: currentProduct.id,
				name: currentProduct.name,
				price: currentProduct.price,
				size: selectedSize,
				color: selectedColor,
				image: productImages[0]
			};
			
			cart.push(cartItem);
			updateCart();
			productModal.classList.remove('active');
		});

		function updateCart() {
			cartCount.textContent = cart.length;
			
			if (cart.length > 0) {
				whatsappFixed.style.display = 'block';
			} else {
				whatsappFixed.style.display = 'none';
			}
			
			if (cartModal.classList.contains('active')) {
				renderCartItems();
			}
		}

		function renderCartItems() {
			const container = document.getElementById('cartItemsContainer');
			const totalElement = document.getElementById('cartTotal');
			
			if (cart.length === 0) {
				container.innerHTML = '<div class="empty-cart"><p>Корзина пуста</p></div>';
				totalElement.textContent = '0 ₸';
				return;
			}
			
			container.innerHTML = '';
			let total = 0;
			
			cart.forEach(item => {
				total += item.price;
				
				const cartItem = document.createElement('div');
				cartItem.className = 'cart-item';
				
				cartItem.innerHTML = `
					<div class="cart-item-info">
						<h3>${item.name}</h3>
						<div class="cart-item-details">${item.size} | ${item.color}</div>
					</div>
					<div class="cart-item-price">${item.price.toLocaleString()} ₸</div>
				`;
				
				container.appendChild(cartItem);
			});
			
			totalElement.textContent = `${total.toLocaleString()} ₸`;
		}

		function sendToWhatsApp() {
			if (cart.length === 0) return;
			
			let message = `*ЗАКАЗ С ZENAPEX*\n\n`;
			message += `Дата: ${new Date().toLocaleString('ru-RU')}\n\n`;
			message += `*ЗАКАЗ:*\n`;
			
			cart.forEach((item, index) => {
				message += `${index + 1}. ${item.name}\n`;
				message += `   Размер: ${item.size}\n`;
				message += `   Цвет: ${item.color}\n`;
				message += `   Цена: ${item.price.toLocaleString()}₸\n\n`;
			});
			
			const total = cart.reduce((sum, item) => sum + item.price, 0);
			message += `*ИТОГО: ${total.toLocaleString()}₸*\n\n`;
			message += `_Ожидаю подтверждения заказа_`;
			
			const phone = "77002693293";
			const encodedMessage = encodeURIComponent(message);
			const whatsappUrl = `https://wa.me/${phone}?text=${encodedMessage}`;
			
			const link = document.createElement('a');
			link.href = whatsappUrl;
			link.target = '_blank';
			link.style.display = 'none';
			document.body.appendChild(link);
			link.click();
			setTimeout(() => document.body.removeChild(link), 100);
			
			cart = [];
			updateCart();
			cartModal.classList.remove('active');
		}

		orderBtn.addEventListener('click', sendToWhatsApp);
		whatsappOrderBtn.addEventListener('click', sendToWhatsApp);

		function performSearch() {
			const query = searchInput.value.toLowerCase().trim();
			
			if (query === '') {
				searchResults.innerHTML = '<p style="color: #666; text-align: center; font-family: \'Orbitron\', sans-serif;">Введите запрос</p>';
				return;
			}
			
			const results = products.filter(product => 
				product.name.toLowerCase().includes(query) ||
				product.category.toLowerCase().includes(query)
			);
			
			if (results.length === 0) {
				searchResults.innerHTML = '<p style="color: #666; text-align: center; font-family: \'Orbitron\', sans-serif;">Товары не найдены</p>';
				return;
			}
			
			let html = '<div style="display: grid; gap: 10px;">';
			
			results.forEach(product => {
				const imageUrl = Array.isArray(product.images) ? product.images[0] : product.image;
				
				html += `
					<div style="display: flex; align-items: center; padding: 10px; border: 1px solid #333; cursor: pointer; background: #111;" 
						 onclick="openProductModal(${product.id}); searchModal.classList.remove('active');">
						<div style="width: 40px; height: 40px; background: #000; display: flex; align-items: center; justify-content: center; margin-right: 10px; overflow: hidden;">
							<img src="${imageUrl}" alt="${product.name}" style="width:100%; height:100%; object-fit:cover;">
						</div>
						<div>
							<div style="font-weight: bold; color: white; font-family: \'Orbitron\', sans-serif;">${product.name}</div>
							<div style="color: #800020; font-family: \'Orbitron\', sans-serif;">${product.price.toLocaleString()} ₸</div>
						</div>
					</div>
				`;
			});
			
			html += '</div>';
			searchResults.innerHTML = html;
		}

		burgerBtn.addEventListener('click', () => burgerMenu.classList.add('active'));
		closeMenu.addEventListener('click', () => burgerMenu.classList.remove('active'));
		cartBtn.addEventListener('click', () => {
			renderCartItems();
			cartModal.classList.add('active');
		});
		closeCartModal.addEventListener('click', () => cartModal.classList.remove('active'));
		closeProductModal.addEventListener('click', () => productModal.classList.remove('active'));
		closeSearchModal.addEventListener('click', () => searchModal.classList.remove('active'));
		searchBtn.addEventListener('click', () => {
			searchModal.classList.add('active');
			searchInput.focus();
		});
		searchSubmit.addEventListener('click', performSearch);
		searchInput.addEventListener('keyup', (e) => {
			if (e.key === 'Enter') performSearch();
		});

		window.addEventListener('click', (e) => {
			if (e.target === productModal) productModal.classList.remove('active');
			if (e.target === cartModal) cartModal.classList.remove('active');
			if (e.target === searchModal) searchModal.classList.remove('active');
			if (e.target === burgerMenu) burgerMenu.classList.remove('active');
		});

		renderProducts();
		updateCart();
	</script>
</body>
</html>
